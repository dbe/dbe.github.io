{"version":3,"sources":["contractAbis/ERC20Vendable.abi.js","../node_modules/web3-eth-accounts/src sync","Graph.js","App.js","index.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Graph","props","web3","Web3","providers","WebsocketProvider","fetchPastEvents","then","data","div","document","getElementById","vis","Network","layout","improvedLayout","physics","stabilization","contract","this","eth","Contract","ABI","edges","nodeSet","Set","getBlockNumber","block","getPastEvents","fromBlock","toBlock","events","forEach","event","i","returnValues","to","from","value","add","push","nodes","DataSet","Array","map","label","substring","catch","console","log","Component","App","state","shouldReload","setInterval","checkReload","bind","location","reload","setState","className","onClick","toggle","ReactDOM","render"],"mappings":"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","file":"static/js/main.eda51f8e.chunk.js","sourcesContent":["module.exports = [{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"string\",\"name\":\"\"}],\"name\":\"name\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"approve\",\"inputs\":[{\"type\":\"address\",\"name\":\"spender\"},{\"type\":\"uint256\",\"name\":\"value\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"uint256\",\"name\":\"\"}],\"name\":\"totalSupply\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"transferFrom\",\"inputs\":[{\"type\":\"address\",\"name\":\"from\"},{\"type\":\"address\",\"name\":\"to\"},{\"type\":\"uint256\",\"name\":\"value\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"transferWithData\",\"inputs\":[{\"type\":\"address\",\"name\":\"to\"},{\"type\":\"uint256\",\"name\":\"value\"},{\"type\":\"bytes\",\"name\":\"data\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"uint8\",\"name\":\"\"}],\"name\":\"decimals\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"increaseAllowance\",\"inputs\":[{\"type\":\"address\",\"name\":\"spender\"},{\"type\":\"uint256\",\"name\":\"addedValue\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"mint\",\"inputs\":[{\"type\":\"address\",\"name\":\"to\"},{\"type\":\"uint256\",\"name\":\"amount\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"address\",\"name\":\"\"}],\"name\":\"vendingMachine\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"uint256\",\"name\":\"\"}],\"name\":\"balanceOf\",\"inputs\":[{\"type\":\"address\",\"name\":\"owner\"}],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[],\"name\":\"renounceOwnership\",\"inputs\":[],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[],\"name\":\"changeVendingMachine\",\"inputs\":[{\"type\":\"address\",\"name\":\"newVendingMachine\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"address\",\"name\":\"\"}],\"name\":\"owner\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"isOwner\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"string\",\"name\":\"\"}],\"name\":\"symbol\",\"inputs\":[],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"burn\",\"inputs\":[{\"type\":\"address\",\"name\":\"from\"},{\"type\":\"uint256\",\"name\":\"value\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"decreaseAllowance\",\"inputs\":[{\"type\":\"address\",\"name\":\"spender\"},{\"type\":\"uint256\",\"name\":\"subtractedValue\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[{\"type\":\"bool\",\"name\":\"\"}],\"name\":\"transfer\",\"inputs\":[{\"type\":\"address\",\"name\":\"to\"},{\"type\":\"uint256\",\"name\":\"value\"}],\"constant\":false},{\"type\":\"function\",\"stateMutability\":\"view\",\"payable\":false,\"outputs\":[{\"type\":\"uint256\",\"name\":\"\"}],\"name\":\"allowance\",\"inputs\":[{\"type\":\"address\",\"name\":\"owner\"},{\"type\":\"address\",\"name\":\"spender\"}],\"constant\":true},{\"type\":\"function\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"outputs\":[],\"name\":\"transferOwnership\",\"inputs\":[{\"type\":\"address\",\"name\":\"newOwner\"}],\"constant\":false},{\"type\":\"constructor\",\"stateMutability\":\"nonpayable\",\"payable\":false,\"inputs\":[{\"type\":\"string\",\"name\":\"_name\"},{\"type\":\"string\",\"name\":\"_symbol\"}]},{\"type\":\"event\",\"name\":\"TransferWithData\",\"inputs\":[{\"type\":\"address\",\"name\":\"from\",\"indexed\":true},{\"type\":\"address\",\"name\":\"to\",\"indexed\":true},{\"type\":\"uint256\",\"name\":\"value\",\"indexed\":false},{\"type\":\"bytes\",\"name\":\"data\",\"indexed\":false}],\"anonymous\":false},{\"type\":\"event\",\"name\":\"OwnershipTransferred\",\"inputs\":[{\"type\":\"address\",\"name\":\"previousOwner\",\"indexed\":true},{\"type\":\"address\",\"name\":\"newOwner\",\"indexed\":true}],\"anonymous\":false},{\"type\":\"event\",\"name\":\"Transfer\",\"inputs\":[{\"type\":\"address\",\"name\":\"from\",\"indexed\":true},{\"type\":\"address\",\"name\":\"to\",\"indexed\":true},{\"type\":\"uint256\",\"name\":\"value\",\"indexed\":false}],\"anonymous\":false},{\"type\":\"event\",\"name\":\"Approval\",\"inputs\":[{\"type\":\"address\",\"name\":\"owner\",\"indexed\":true},{\"type\":\"address\",\"name\":\"spender\",\"indexed\":true},{\"type\":\"uint256\",\"name\":\"value\",\"indexed\":false}],\"anonymous\":false}]\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 298;","import vis from 'vis';\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\n\nimport './Graph.css';\n\nimport ABI from \"./contractAbis/ERC20Vendable.abi.js\"\n// let ADDRESS = '0xDec31651Bec1fBbFF392aa7DE956d6EE4559498b' //BURN v1\n// let ADDRESS = '0xA95D505E6933cB790ED3431805871EfE4E6BbafD' //BURN v2\n// let ADDRESS = '0x3e50bf6703fc132a94e4baff068db2055655f11b' //Buffidai\nlet ADDRESS = '0xdac17f958d2ee523a2206206994597c13d831ec7' //Tether Mainnet\n\nclass Graph extends Component {\n  constructor(props) {\n    super(props);\n\n    // this.web3 = new Web3(new Web3.providers.HttpProvider('https://dai.poa.network'))\n    this.web3 = new Web3(new Web3.providers.WebsocketProvider('wss://mainnet.infura.io/ws/v3/f1f48e4d6201410c954df4c1a986ca9d'))\n\n    this.fetchPastEvents().then(data => {\n      let div = document.getElementById('network')\n      let network = new vis.Network(div, data, {\n        layout: {\n          improvedLayout: false\n        },\n        physics: {\n          stabilization: false\n        }\n      });\n    });\n  }\n\n  fetchPastEvents() {\n    let contract = new this.web3.eth.Contract(ABI, ADDRESS)\n    let edges = []\n    let nodeSet = new Set()\n\n    // console.log(\"In fetch past\")\n    //\n    // let emitter = contract.events.Transfer({\n    //   fromBlock: 'earliest',\n    //   toBlock: 'latest'\n    // }, (error, event) => {\n    //   console.log('error: ', error);\n    //   console.log('event: ', event);\n    // })\n    //\n    // console.log('emitter: ', emitter);\n    //\n    // emitter.on('data', (data) => {\n    //   console.log('data: ', data);\n    // })\n    //\n    // emitter.on('changed', (event) => {\n    //   console.log('changed event: ', event);\n    // })\n    //\n    // emitter.on('error', console.error)\n\n    let past = this.web3.eth.getBlockNumber().then(block => {\n      return contract.getPastEvents('Transfer', {\n        fromBlock: block - 100,\n        toBlock: 'latest'\n      })\n\n    })\n\n\n    return past.then(events => {\n      events.forEach((event, i) => {\n        let { to, from, value } = event.returnValues\n        nodeSet.add(to)\n        nodeSet.add(from)\n\n        edges.push({to, from, value});\n      })\n\n      let nodes = new vis.DataSet(\n        Array.from(nodeSet).map(id => {\n          let label = id.substring(0,6)\n          return {id, label};\n        })\n      );\n\n      edges = new vis.DataSet(edges)\n\n      return {\n        nodes,\n        edges\n      }\n    }).catch(e => {\n      console.log('e: ', e);\n    })\n  }\n\n\n  render() {\n    return (\n      <div id=\"network\">\n        Loading\n      </div>\n    )\n  }\n}\n\nexport default Graph;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Graph from './Graph';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shouldReload: true\n    }\n\n    setInterval(this.checkReload.bind(this), 60 * 1000)\n  }\n\n  checkReload() {\n    if(this.state.shouldReload) {\n      document.location.reload()\n    }\n  }\n\n  toggle() {\n    this.setState({\n      shouldReload: !this.state.shouldReload\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <button id=\"resetter\" className={`should-reload-${this.state.shouldReload}`} onClick={this.toggle.bind(this)} >\n          {this.state.shouldReload ? \"Auto-reload\" : \"Don't Reload\"}\n        </button>\n        <Graph />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}